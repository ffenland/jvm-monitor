# 약국 라벨 출력 시스템

## 소개
약국에서 처방전 데이터를 자동으로 파싱하고 Brother 라벨 프린터로 약품 라벨을 출력하는 Windows 전용 프로그램입니다.

## 주요 기능

### 📋 자동 처방전 파싱
- C:\atc 폴더의 처방전 파일을 실시간 모니터링
- 새로운 처방전 파일 감지 시 자동으로 데이터 파싱
- 환자 정보 및 약품 정보 자동 추출

### 🏷️ 라벨 출력
- Brother QL-700 라벨 프린터 지원
- 커스터마이징 가능한 라벨 템플릿
- 약품명, 복용법, 환자명 등 자동 입력

### 💊 약품 정보 관리
- 공공데이터 API를 통한 약품 상세정보 자동 조회
- 보관방법, 효능효과 등 상세정보 자동 업데이트
- SQLite 데이터베이스를 통한 안정적인 데이터 관리

### 📊 데이터 관리
- 모든 처방전 및 약품 정보를 데이터베이스에 안전하게 저장
- 날짜별 처방전 조회 기능
- 파싱 이력 관리 및 오류 추적

## 시스템 요구사항

### 필수 요구사항
- **운영체제**: Windows 10 이상 (64비트)
- **프린터**: Brother QL-700 라벨 프린터
- **Brother b-PAC SDK**: 버전 3.4 이상
- **인터넷**: 약품 정보 API 조회용

### 설치가 필요한 소프트웨어
1. **Brother QL-700 드라이버**
   - Brother 공식 웹사이트에서 다운로드
   - 프린터 연결 후 드라이버 설치

2. **Brother b-PAC SDK**
   - Brother 개발자 사이트에서 다운로드
   - 설치 후 자동으로 COM 객체 등록

## 설치 방법

### 1단계: 프로그램 다운로드
최신 버전의 설치 파일을 다운로드합니다.

### 2단계: 프로그램 설치
1. 다운로드한 설치 파일 실행
2. 설치 경로 선택 (기본값 권장)
3. 설치 완료

### 3단계: 초기 설정
1. 프로그램 첫 실행 시 약국 정보 입력
2. Brother 프린터 선택
3. API 키 입력 (공공데이터 포털에서 발급)

## 사용 방법

### 기본 사용법
1. **프로그램 실행**
   - 바탕화면의 "약국 라벨 출력" 아이콘 실행
   - 자동으로 C:\atc 폴더 모니터링 시작

2. **처방전 파일 처리**
   - 처방전 파일이 C:\atc 폴더에 생성되면 자동 감지
   - 파싱 결과가 화면에 표시됨
   - 약품 정보가 자동으로 조회됨

3. **라벨 출력**
   - 처방전 목록에서 출력할 항목 선택
   - "라벨 출력" 버튼 클릭
   - Brother 프린터로 자동 출력

### 라벨 편집기
1. **템플릿 선택**
   - 메뉴 > 설정 > 라벨 템플릿
   - 원하는 템플릿 선택 또는 새로 만들기

2. **필드 편집**
   - 라벨에 포함할 정보 선택
   - 폰트 크기 및 위치 조정
   - 미리보기로 확인

### 데이터 조회
1. **처방전 조회**
   - 메뉴 > 데이터 > 처방전 조회
   - 날짜 선택하여 과거 처방전 확인

2. **약품 정보 조회**
   - 메뉴 > 데이터 > 약품 정보
   - 약품 검색 및 상세정보 확인

## 문제 해결

### 프린터를 찾을 수 없을 때
1. Brother QL-700이 제대로 연결되었는지 확인
2. Windows 프린터 목록에서 Brother QL-700 확인
3. Brother 드라이버 재설치

### 라벨이 출력되지 않을 때
1. Brother b-PAC SDK가 설치되었는지 확인
2. 프린터 상태 확인 (용지, 전원)
3. 프로그램 재시작

### 약품 정보를 조회할 수 없을 때
1. 인터넷 연결 확인
2. API 키가 올바른지 확인
3. 공공데이터 포털 API 상태 확인

### 처방전 파일을 인식하지 못할 때
1. 파일이 C:\atc 폴더에 있는지 확인
2. 파일 형식이 올바른지 확인 (Copy로 시작하는 .txt 파일)
3. 파일 인코딩이 EUC-KR인지 확인

## 데이터 백업

### 자동 백업
- 모든 처방전 원본 파일은 `originFiles` 폴더에 자동 백업
- 데이터베이스는 매일 자동 백업

### 수동 백업
1. 메뉴 > 도구 > 데이터 백업
2. 백업 위치 선택
3. 백업 실행

## 보안 및 개인정보

### 데이터 보안
- 모든 환자 정보는 로컬 데이터베이스에만 저장
- 외부 서버로 전송되지 않음
- 약품 정보 조회 시에만 인터넷 사용

### 개인정보 보호
- 환자 개인정보는 암호화되어 저장
- 접근 권한 관리 기능
- 정기적인 데이터 정리 권장

## 업데이트

### 자동 업데이트
- 프로그램 실행 시 자동으로 업데이트 확인
- 새 버전이 있으면 알림 표시
- 원클릭 업데이트 지원

### 수동 업데이트
1. 메뉴 > 도움말 > 업데이트 확인
2. 최신 버전 다운로드
3. 설치 진행

## 지원

### 기술 지원
- 이메일: support@pharmacy-label.com
- 전화: 1577-XXXX
- 원격 지원 가능

### 자주 묻는 질문
프로그램 내 도움말 메뉴에서 FAQ 확인 가능

### 사용자 매뉴얼
상세한 사용 설명서는 프로그램 설치 폴더의 `docs` 폴더에서 확인

## 라이선스
이 소프트웨어는 상용 라이선스로 제공됩니다.
무단 복제 및 배포를 금합니다.

## 버전 정보
- 현재 버전: 1.0.0
- 최종 업데이트: 2025년 8월 13일

---
© 2025 약국 라벨 출력 시스템. All rights reserved.