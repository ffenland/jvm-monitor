const _0x5e31c8=_0x15e0;(function(_0x48f5d7,_0x25c6be){const _0x91405e=_0x15e0,_0x39b204=_0x48f5d7();while(!![]){try{const _0x3f7a09=parseInt(_0x91405e(0x13e))/0x1*(parseInt(_0x91405e(0x14e))/0x2)+parseInt(_0x91405e(0x153))/0x3*(parseInt(_0x91405e(0x15f))/0x4)+parseInt(_0x91405e(0x12d))/0x5*(-parseInt(_0x91405e(0x142))/0x6)+-parseInt(_0x91405e(0x13f))/0x7*(-parseInt(_0x91405e(0x130))/0x8)+-parseInt(_0x91405e(0x150))/0x9+parseInt(_0x91405e(0x161))/0xa*(parseInt(_0x91405e(0x162))/0xb)+parseInt(_0x91405e(0x12f))/0xc;if(_0x3f7a09===_0x25c6be)break;else _0x39b204['push'](_0x39b204['shift']());}catch(_0x399dc0){_0x39b204['push'](_0x39b204['shift']());}}}(_0x4e63,0x633ac));function _0x4e63(){const _0x46808a=['mtjmDM1Wq0i','vu5juvvfignVBNn0CMfPBNqGzMfPBgvK','mtuZmfHqvfz4Eq','ndq5mdjIv3b0uei','BNr2DM0','zxjYB3i','zMfPBf8','odmZnJCWANvvve5q','rePzqva','ntqYmtzqwhHjAg8','nZCZnLjkD0z1vG','r3ngvgO','lI4VlI4VC2nYAxb0CY9KCNvNlwzVCM0TDw5PDc1TyxaUANm','u0vmrunuigjVAgnVzguGrLjptsbTzwrPy2LUzxmGv0HfuKuGEwfRANvUz19JB2rLid0GpW','7kcv67o07jEg7j2m','7j2066+4ioUtSEUHNEUqNcdSLB3TKOJSNOxRI4JRI6q','Dg9tDhjPBMC','C2XPy2u','CNvU','z2v0twvKAwnPBMu','DwrbBu4','z2v0','BwvZC2fNzq','lI4VlI4VC2nYAxb0CY9TzwrPy2LUzs1HCgKUANm','mwTht3vdDW','mZqZB1boyunk','Aw5Zzxj0qM9Oy29Kzq','wgzxswi','mJrbrvHhwMi','ChjLCgfYzq','BM93','DvjywMi','tMDABNK','uwPWBNK','DhjPBq','Aw5JBhvKzxm','AM9PBG','7jw97zkiioYGGoYEPsdSI6tTJkG6','BMPhvwW','rejyDui','otq0nZG2C1jxAhrb','z0fxtem','mZiXnJC4ovbRA0PMEq','lI9KyxrHyMfZzs5QCW','sNHLEey','mJGXotyXyKH3AwHj','wKfIEhi','C3bSAxq','AwnVzgu','qxb4B1C','zxHWB3j0CW','mtmYna','vgjKq1a','zMXVB3i','CKjlwfi','DePdsMm','C2f2zu1LzgLJAw5L'];_0x4e63=function(){return _0x46808a;};return _0x4e63();}const path=require('path'),DatabaseManager=require(_0x5e31c8(0x151)),{extractTemperature}=require(path[_0x5e31c8(0x14a)](__dirname,'../../scripts/extract-temperature.js')),{getUnitFromDrugForm}=require(path[_0x5e31c8(0x14a)](__dirname,_0x5e31c8(0x132)));function generateUniqueFailCode(_0x5a18eb){const _0x4b1410=_0x5e31c8,_0x385706={'ntvvm':function(_0x17a5cc,_0x5038d4){return _0x17a5cc<_0x5038d4;},'gAWLC':_0x4b1410(0x141),'TbdCP':function(_0xe748c2,_0x54ac84){return _0xe748c2*_0x54ac84;},'SZQkD':_0x4b1410(0x133)};let _0x1bec87=0x0;const _0x3f7904=0x3e8;while(_0x385706[_0x4b1410(0x163)](_0x1bec87,_0x3f7904)){if('XfWIb'!==_0x385706[_0x4b1410(0x14f)]){if(!_0x8cb1f8)return null;const _0x2ce186=_0x3963ef[_0x4b1410(0x155)]('|');return _0x2ce186[0x0]['trim']()||null;}else{const _0x2df364=Math[_0x4b1410(0x15b)](0x3e8+_0x385706[_0x4b1410(0x15a)](Math['random'](),0x2328)),_0x306734=_0x4b1410(0x12c)+_0x2df364,_0x171159=_0x5a18eb['db'][_0x4b1410(0x143)](_0x385706['SZQkD'])[_0x4b1410(0x13b)](_0x306734);if(!_0x171159)return _0x306734;_0x1bec87++;}}return _0x4b1410(0x12c)+Date[_0x4b1410(0x144)]()[_0x4b1410(0x136)]()[_0x4b1410(0x137)](-0x4);}async function fetchAndSaveMedicine(_0x38f739,_0x50008a=null,_0xb8c6ef=null){const _0x26f2af=_0x5e31c8,_0xf694c1={'udAmN':_0x26f2af(0x13d),'njGUl':function(_0x1bb69d,_0x1c9bc0){return _0x1bb69d(_0x1c9bc0);},'ApxoW':_0x26f2af(0x134),'uRXZb':_0x26f2af(0x159),'DjhPb':function(_0x534826,_0x4db0d0){return _0x534826(_0x4db0d0);},'rBKXR':function(_0x1434cb,_0x519c2e){return _0x1434cb||_0x519c2e;}},_0x20135c=_0xb8c6ef||new DatabaseManager();try{const _0x3c96d3=_0x20135c['getMedicineByBohcode'](_0x38f739);if(_0x3c96d3)return{'success':!![],'medicine':_0x3c96d3,'cached':!![]};const {searchMedicineByBohcode:_0x294353}=require(path[_0x26f2af(0x14a)](__dirname,_0xf694c1[_0x26f2af(0x13a)])),_0x22c67a=await _0xf694c1[_0x26f2af(0x14c)](_0x294353,_0x38f739);if(!_0x22c67a||!_0x22c67a[_0x26f2af(0x156)]){const _0x311d97={'bohcode':_0x38f739,'yakjung_code':generateUniqueFailCode(_0x20135c),'drug_name':_0x50008a||_0x26f2af(0x134),'drug_form':_0xf694c1[_0x26f2af(0x157)],'dosage_route':_0xf694c1['ApxoW'],'cls_code':'정보없음','upso_name':_0xf694c1[_0x26f2af(0x157)],'medititle':_0xf694c1[_0x26f2af(0x157)],'stmt':_0x26f2af(0x134),'temperature':_0xf694c1[_0x26f2af(0x157)],'unit':'회','custom_usage':null,'usage_priority':_0xf694c1[_0x26f2af(0x145)],'autoPrint':0x0,'api_fetched':0x0},_0x33ef14=_0x20135c[_0x26f2af(0x15e)](_0x311d97);return{'success':!![],'medicine':_0x33ef14,'cached':![],'apiFailure':!![]};}const _0x4fa2d1=_0x22c67a['icode'],{fetchMedicineDetailByYakjungCode:_0x435e4a}=require(path[_0x26f2af(0x14a)](__dirname,_0xf694c1[_0x26f2af(0x13a)])),_0x5b8bfa=await _0x435e4a(_0x4fa2d1);if(!_0x5b8bfa){const _0x17e192={'bohcode':_0x38f739,'yakjung_code':_0xf694c1['DjhPb'](generateUniqueFailCode,_0x20135c),'drug_name':_0xf694c1[_0x26f2af(0x15c)](_0x50008a,_0x26f2af(0x134)),'drug_form':_0xf694c1[_0x26f2af(0x157)],'dosage_route':_0xf694c1[_0x26f2af(0x157)],'cls_code':_0xf694c1[_0x26f2af(0x157)],'upso_name':'정보없음','medititle':'정보없음','stmt':_0xf694c1[_0x26f2af(0x157)],'temperature':_0xf694c1[_0x26f2af(0x157)],'unit':'회','custom_usage':null,'usage_priority':_0x26f2af(0x159),'autoPrint':0x0,'api_fetched':0x0},_0xe7fc47=_0x20135c[_0x26f2af(0x15e)](_0x17e192);return{'success':!![],'medicine':_0xe7fc47,'cached':![],'apiFailure':!![]};}const _0xcf11e6={'bohcode':_0x38f739,..._0x5b8bfa,'custom_usage':null,'usage_priority':_0x26f2af(0x159),'autoPrint':0x0},_0x563a39=_0x20135c[_0x26f2af(0x15e)](_0xcf11e6);return{'success':!![],'medicine':_0x563a39,'cached':![],'apiFailure':![]};}catch(_0x3841fb){try{const _0x3db316={'bohcode':_0x38f739,'yakjung_code':generateUniqueFailCode(_0x20135c),'drug_name':_0x50008a||'정보없음','drug_form':_0x26f2af(0x134),'dosage_route':_0xf694c1[_0x26f2af(0x157)],'cls_code':'정보없음','upso_name':_0xf694c1['ApxoW'],'medititle':_0x26f2af(0x134),'stmt':_0xf694c1['ApxoW'],'temperature':_0xf694c1[_0x26f2af(0x157)],'unit':'회','custom_usage':null,'usage_priority':_0xf694c1[_0x26f2af(0x145)],'autoPrint':0x0,'api_fetched':0x0},_0x5bf585=_0x20135c[_0x26f2af(0x15e)](_0x3db316);return{'success':!![],'medicine':_0x5bf585,'cached':![],'apiFailure':!![],'error':_0x3841fb[_0x26f2af(0x13c)]};}catch(_0x5c5081){return{'success':![],'error':_0x3841fb[_0x26f2af(0x13c)],'bohcode':_0x38f739};}}}async function fetchAndSaveMedicineByYakjungCode(_0x2ae972,_0x2dd29f=null){const _0x149c05=_0x5e31c8,_0x426e30={'hOrsO':function(_0x334159,_0x4b0cdf){return _0x334159(_0x4b0cdf);},'DBXuB':_0x149c05(0x134),'XPoxq':_0x149c05(0x159),'JxexF':function(_0x21ee57,_0x3c7869){return _0x21ee57!==_0x3c7869;},'ZAbxr':_0x149c05(0x135),'HJXci':_0x149c05(0x15d),'Qjpny':'stHZt','GsFTj':'약품\x20정보를\x20가져올\x20수\x20없습니다','DJYAP':function(_0x1344d8,_0x3f0ee2){return _0x1344d8>_0x3f0ee2;}},_0xc8d7fd=_0x2dd29f||new DatabaseManager();try{const _0x3bc0c3=_0xc8d7fd[_0x149c05(0x139)](_0x2ae972);if(_0x3bc0c3)return{'success':![],'error':_0x426e30[_0x149c05(0x154)],'alreadyExists':!![],'medicine':_0x3bc0c3};const {fetchMedicineDetailByYakjungCode:_0x220e86,fetchBohCodesFromYakjung:_0x2d7bfc}=_0x426e30['hOrsO'](require,path['join'](__dirname,_0x149c05(0x13d))),_0x3aac81=await _0x220e86(_0x2ae972);if(!_0x3aac81){if(_0x426e30['HJXci']!==_0x426e30[_0x149c05(0x147)])return{'success':![],'error':_0x426e30[_0x149c05(0x131)]};else try{const _0x274406={'bohcode':_0x2f6934,'yakjung_code':_0x426e30['hOrsO'](_0xd6b044,_0x21d360),'drug_name':_0x3c44f7||'정보없음','drug_form':_0x426e30['DBXuB'],'dosage_route':_0x426e30['DBXuB'],'cls_code':_0x426e30[_0x149c05(0x14d)],'upso_name':_0x149c05(0x134),'medititle':_0x426e30[_0x149c05(0x14d)],'stmt':_0x149c05(0x134),'temperature':_0x426e30[_0x149c05(0x14d)],'unit':'회','custom_usage':null,'usage_priority':_0x426e30['XPoxq'],'autoPrint':0x0,'api_fetched':0x0},_0x364b72=_0x6c86b[_0x149c05(0x15e)](_0x274406);return{'success':!![],'medicine':_0x364b72,'cached':![],'apiFailure':!![],'error':_0x55ba1e[_0x149c05(0x13c)]};}catch(_0x21faeb){return{'success':![],'error':_0x33363a[_0x149c05(0x13c)],'bohcode':_0x4b3857};}}const _0x1d14a4=await _0x426e30['hOrsO'](_0x2d7bfc,_0x2ae972),_0x3dc222={'bohcode':_0x426e30[_0x149c05(0x12e)](_0x1d14a4['length'],0x0)?_0x1d14a4[0x0]:null,..._0x3aac81,'custom_usage':null,'usage_priority':_0x149c05(0x159),'autoPrint':0x0},_0x117a8a=_0xc8d7fd['db']['transaction'](()=>{const _0x40171b=_0x149c05,_0x5f48d1=_0xc8d7fd['saveMedicine'](_0x3dc222);if(_0x1d14a4['length']>0x0)for(const _0x1cdc1e of _0x1d14a4){try{_0xc8d7fd['statements'][_0x40171b(0x140)][_0x40171b(0x138)]({'yakjung_code':_0x2ae972,'bohcode':_0x1cdc1e});}catch(_0x3e0938){if(_0x426e30[_0x40171b(0x152)]('cYIAx',_0x40171b(0x146))){if(!_0x3e0938[_0x40171b(0x13c)][_0x40171b(0x149)](_0x40171b(0x160)))throw _0x3e0938;}else{if(!_0x3b6b68[_0x40171b(0x13c)][_0x40171b(0x149)](_0x40171b(0x160)))throw _0x1e3aef;}}}return _0x5f48d1;}),_0xe5c792=_0x117a8a();return{'success':!![],'medicine':_0xe5c792,'bohcodes':_0x1d14a4,'cached':![]};}catch(_0x14c076){return console[_0x149c05(0x12b)](_0x149c05(0x14b),_0x14c076),{'success':![],'error':_0x14c076['message']};}}function parseUpsoName(_0x231045){const _0x777628=_0x5e31c8;if(!_0x231045)return null;const _0x10cc64=_0x231045['split']('|');return _0x10cc64[0x0][_0x777628(0x148)]()||null;}function _0x15e0(_0x3c57f7,_0xff8928){const _0x4e633a=_0x4e63();return _0x15e0=function(_0x15e008,_0x35b9a5){_0x15e008=_0x15e008-0x12b;let _0x3441c8=_0x4e633a[_0x15e008];if(_0x15e0['nkEtZN']===undefined){var _0x8ab531=function(_0x1bb724){const _0x3a7ce2='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1247bd='',_0xce38c6='';for(let _0x2a7867=0x0,_0x36db47,_0x1f27b7,_0x1a83bc=0x0;_0x1f27b7=_0x1bb724['charAt'](_0x1a83bc++);~_0x1f27b7&&(_0x36db47=_0x2a7867%0x4?_0x36db47*0x40+_0x1f27b7:_0x1f27b7,_0x2a7867++%0x4)?_0x1247bd+=String['fromCharCode'](0xff&_0x36db47>>(-0x2*_0x2a7867&0x6)):0x0){_0x1f27b7=_0x3a7ce2['indexOf'](_0x1f27b7);}for(let _0x435e3c=0x0,_0x2364f6=_0x1247bd['length'];_0x435e3c<_0x2364f6;_0x435e3c++){_0xce38c6+='%'+('00'+_0x1247bd['charCodeAt'](_0x435e3c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xce38c6);};_0x15e0['YJEaXS']=_0x8ab531,_0x3c57f7=arguments,_0x15e0['nkEtZN']=!![];}const _0x3ff342=_0x4e633a[0x0],_0x5a91db=_0x15e008+_0x3ff342,_0x1998d2=_0x3c57f7[_0x5a91db];return!_0x1998d2?(_0x3441c8=_0x15e0['YJEaXS'](_0x3441c8),_0x3c57f7[_0x5a91db]=_0x3441c8):_0x3441c8=_0x1998d2,_0x3441c8;},_0x15e0(_0x3c57f7,_0xff8928);}module[_0x5e31c8(0x158)]={'fetchAndSaveMedicine':fetchAndSaveMedicine,'fetchAndSaveMedicineByYakjungCode':fetchAndSaveMedicineByYakjungCode};